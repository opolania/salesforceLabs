<?xml version="1.0" encoding="UTF-8"?>
<LightningComponentBundle xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>58.0</apiVersion>
    <isExposed>true</isExposed>
    <masterLabel>Product Selector with Screen Flow</masterLabel>
    <description>Componente LWC para seleccionar productos en un Screen Flow, retorna productos seleccionados al Flow</description>
    
    <!-- âœ… DISPONIBLE EN FLOWS -->
    <targets>
        <target>lightning__FlowScreen</target>
    </targets>
    
    <!-- ðŸ”§ CONFIGURACIÃ“N PARA FLOWS -->
    <targetConfigs>
        <targetConfig targets="lightning__FlowScreen">
            
            <!-- ðŸ“¥ PARÃMETROS DE ENTRADA (Flow â†’ LWC) -->
            <property 
                name="searchTerm" 
                type="String" 
                default=""
                label="TÃ©rmino de BÃºsqueda Inicial"
                description="TÃ©rmino de bÃºsqueda inicial para filtrar productos"/>
                
            <property 
                name="flowMessage" 
                type="String" 
                label="Mensaje del Flow"
                description="Mensaje informativo que se mostrarÃ¡ al usuario"/>
                
            <property 
                name="maxSelections" 
                type="Integer" 
                default="5"
                label="MÃ¡ximo de Selecciones"
                description="NÃºmero mÃ¡ximo de productos que el usuario puede seleccionar"/>
                
            <property 
                name="allowMultipleSelection" 
                type="Boolean" 
                default="true"
                label="Permitir SelecciÃ³n MÃºltiple"
                description="Si se permite seleccionar mÃºltiples productos o solo uno"/>
                
            <property 
                name="recordId" 
                type="String" 
                label="ID del Registro"
                description="ID del registro en contexto (opcional)"/>
                
            <property 
                name="defaultProductIds" 
                type="String" 
                label="IDs de Productos Pre-seleccionados"
                description="IDs de productos separados por coma para pre-seleccionar"/>
            
            <!-- ðŸ“¤ PARÃMETROS DE SALIDA (LWC â†’ Flow) -->
            <property 
                name="selectedProducts" 
                type="String" 
                label="Productos Seleccionados (JSON)"
                description="Array JSON con los detalles completos de los productos seleccionados"
                role="outputOnly"/>
                
            <property 
                name="selectedProductIds" 
                type="String" 
                label="IDs de Productos Seleccionados"
                description="IDs de los productos seleccionados separados por coma"
                role="outputOnly"/>
                
            <property 
                name="selectedProductNames" 
                type="String" 
                label="Nombres de Productos Seleccionados"
                description="Nombres de los productos seleccionados separados por coma"
                role="outputOnly"/>
                
            <property 
                name="totalSelectedCount" 
                type="Integer" 
                label="Total de Productos Seleccionados"
                description="NÃºmero total de productos seleccionados por el usuario"
                role="outputOnly"/>
                
            <property 
                name="selectionCompleted" 
                type="Boolean" 
                label="SelecciÃ³n Completada"
                description="Indica si el usuario completÃ³ la selecciÃ³n (true) o cancelÃ³ (false)"
                role="outputOnly"/>
                
            <property 
                name="userActionResult" 
                type="String" 
                label="Resultado de la AcciÃ³n del Usuario"
                description="DescripciÃ³n textual de la acciÃ³n realizada por el usuario"
                role="outputOnly"/>
                
            <property 
                name="selectionSummary" 
                type="String" 
                label="Resumen de SelecciÃ³n (JSON)"
                description="Resumen detallado en formato JSON con estadÃ­sticas y contexto de la selecciÃ³n"
                role="outputOnly"/>
                
        </targetConfig>
    </targetConfigs>
</LightningComponentBundle>